{"version":3,"file":"ItemsPickerDisplay.js","sources":["../../../src/components/items-picker/ItemsPickerDisplay.tsx"],"sourcesContent":["import React, { ChangeEvent } from \"react\"\r\nimport { T } from \"../../conf/i18n\"\r\nimport { makeStyles, Grid, Button, Typography, TextField, useMediaQuery } from \"@material-ui/core\"\r\nimport ItemsList from \"./ItemsList\"\r\nimport { ClassNameMap } from \"@material-ui/core/styles/withStyles\"\r\nimport { Theme } from \"@material-ui/core/styles\"\r\nimport { ItemsPickerAction } from \"./ItemsPicker\"\r\nimport ItemsPickerHead from \"./ItemsPickerHead\"\r\nimport classNames from \"classnames\"\r\n\r\nconst useStyles: (props?: any) => ClassNameMap<any> = makeStyles((theme: Theme) => ({\r\n  root : {\r\n    justifyContent : \"center\",\r\n    display        : \"block\"\r\n  },\r\n  grid : {\r\n    border : `1px solid ${theme.palette.divider}`\r\n  },\r\n  itemsList : {\r\n    height   : 400,\r\n    overflow : \"auto\"\r\n  },\r\n  header : {\r\n    padding               : theme.spacing(),\r\n    display               : \"flex\",\r\n    borderBottom          : `1px solid ${theme.palette.divider}`,\r\n    height                : 60,\r\n    alignItems            : \"center\",\r\n    \"& > div:first-child\" : {\r\n      flex : 1\r\n    }\r\n  },\r\n  smallHeader : {\r\n    flexFlow   : \"column\",\r\n    alignItems : \"normal\",\r\n    height     : \"unset\"\r\n  },\r\n  searchField : {\r\n    margin : theme.spacing(0, 1)\r\n  },\r\n  loadMore : {\r\n    textAlign : \"center\",\r\n    padding   : theme.spacing()\r\n  },\r\n  action : {\r\n    float : \"right\"\r\n  },\r\n  title : {\r\n    fontWeight : 600,\r\n    padding    : theme.spacing(1, 2)\r\n  }\r\n}))\r\n\r\nexport interface ItemsPickerDisplayProps<T> {\r\n  title: string\r\n  items: Array<T>\r\n  selectedItems: Array<T>\r\n  searchItems: (event: ChangeEvent<HTMLInputElement>) => void\r\n  loadMoreItems: () => void\r\n  selectAllItems: () => void\r\n  removeAllItems: () => void\r\n  toggleItem: (item: T, action: ItemsPickerAction) => void\r\n  renderItem: (item: T) => JSX.Element\r\n}\r\n\r\nexport const ItemsPickerDisplay = <A extends { id?: string }>(props: ItemsPickerDisplayProps<A>): JSX.Element => {\r\n  const classes: ClassNameMap<any> = useStyles()\r\n  const { title, items, selectedItems, searchItems, loadMoreItems, selectAllItems, removeAllItems, toggleItem, renderItem }: ItemsPickerDisplayProps<A> = props\r\n  const isSmallScreen: boolean = useMediaQuery(\"(max-width: 500px)\")\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography className={classes.title}>{title}</Typography>\r\n      <Grid container>\r\n        <Grid item md={6} xs={12} sm={12} className={classes.grid}>\r\n          <div className={classNames(classes.header, {\r\n            [classes.smallHeader] : isSmallScreen\r\n          })}>\r\n            <ItemsPickerHead\r\n              title={T.items_pickers.item.to_select.label}\r\n              itemsSize={items.length}\r\n              action={selectAllItems}\r\n              actionLabel={T.items_pickers.select_all}\r\n            />\r\n            <TextField className={classes.searchField} placeholder={T.global.search} onChange={searchItems} />\r\n          </div>\r\n          <div className={classes.itemsList}>\r\n            <ItemsList<A>\r\n              items={items}\r\n              action={\"SELECT\"}\r\n              toggleItem={toggleItem}\r\n              renderItem={renderItem}\r\n            />\r\n            <div className={classes.loadMore}>\r\n              <Button\r\n                color={\"primary\"}\r\n                onClick={loadMoreItems}>{T.global.load_more}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n        <Grid item md={6} xs={12} sm={12} className={classes.grid}>\r\n          <div className={classes.header}>\r\n            <ItemsPickerHead\r\n              title={T.items_pickers.item.selected.label}\r\n              itemsSize={selectedItems.length}\r\n              action={removeAllItems}\r\n              actionLabel={T.items_pickers.deselect_all}\r\n            />\r\n          </div>\r\n          <div className={classes.itemsList}>\r\n            <ItemsList<A>\r\n              items={selectedItems}\r\n              action={\"DESELECT\"}\r\n              toggleItem={toggleItem}\r\n              renderItem={renderItem}\r\n            />\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["React"],"mappings":"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"}